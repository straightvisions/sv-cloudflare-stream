/*! For license information please see block.build.js.LICENSE.txt */
(()=>{var e={184:(e,t)=>{var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)){if(r.length){var c=a.apply(null,r);c&&e.push(c)}}else if("object"===o)if(r.toString===Object.prototype.toString)for(var l in r)n.call(r,l)&&r[l]&&e.push(l);else e.push(r.toString())}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},418:e=>{"use strict";var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var c,l,i=a(e),s=1;s<arguments.length;s++){for(var u in c=Object(arguments[s]))r.call(c,u)&&(i[u]=c[u]);if(t){l=t(c);for(var p=0;p<l.length;p++)n.call(c,l[p])&&(i[l[p]]=c[l[p]])}}return i}},408:(e,t,r)=>{"use strict";var n=r(418),a=60103;if("function"==typeof Symbol&&Symbol.for){var o=Symbol.for;a=o("react.element"),o("react.portal"),o("react.fragment"),o("react.strict_mode"),o("react.profiler"),o("react.provider"),o("react.context"),o("react.forward_ref"),o("react.suspense"),o("react.memo"),o("react.lazy")}"function"==typeof Symbol&&Symbol.iterator;function c(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},i={};function s(e,t,r){this.props=e,this.context=t,this.refs=i,this.updater=r||l}function u(){}function p(e,t,r){this.props=e,this.context=t,this.refs=i,this.updater=r||l}s.prototype.isReactComponent={},s.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(c(85));this.updater.enqueueSetState(this,e,t,"setState")},s.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},u.prototype=s.prototype;var d=p.prototype=new u;d.constructor=p,n(d,s.prototype),d.isPureReactComponent=!0;var f=null,m=Object.prototype.hasOwnProperty,v={key:!0,ref:!0,__self:!0,__source:!0};t.createElement=function(e,t,r){var n,o={},c=null,l=null;if(null!=t)for(n in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(c=""+t.key),t)m.call(t,n)&&!v.hasOwnProperty(n)&&(o[n]=t[n]);var i=arguments.length-2;if(1===i)o.children=r;else if(1<i){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+2];o.children=s}if(e&&e.defaultProps)for(n in i=e.defaultProps)void 0===o[n]&&(o[n]=i[n]);return{$$typeof:a,type:e,key:c,ref:l,props:o,_owner:f}}},294:(e,t,r)=>{"use strict";e.exports=r(408)}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";function e(){return e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e.apply(this,arguments)}function t(t){var r=t.tracks;return(void 0===r?[]:r).map((function(t){return React.createElement("track",e({key:t.src},t))}))}var n=wp.blockEditor,a=n.RichText,o=n.useBlockProps,c=r(184),l=r.n(c),i=r(294);const s=e=>(0,i.createElement)("path",e),u=e=>{let{className:t,isPressed:r,...n}=e;const a={...n,className:l()(t,{"is-pressed":r})||void 0,"aria-hidden":!0,focusable:!1};return(0,i.createElement)("svg",a)},p=(0,i.createElement)(u,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,i.createElement)(s,{d:"M18.7 3H5.3C4 3 3 4 3 5.3v13.4C3 20 4 21 5.3 21h13.4c1.3 0 2.3-1 2.3-2.3V5.3C21 4 20 3 18.7 3zm.8 15.7c0 .4-.4.8-.8.8H5.3c-.4 0-.8-.4-.8-.8V5.3c0-.4.4-.8.8-.8h13.4c.4 0 .8.4.8.8v13.4zM10 15l5-3-5-3v6z"}));var d=wp.i18n,f=d.__,m=d._x,v=wp.components,b=v.ToggleControl,y=v.SelectControl,h=wp.element,g=h.useMemo,k=h.useCallback,E=h.Platform,w=[{value:"auto",label:f("Auto")},{value:"metadata",label:f("Metadata")},{value:"none",label:m("None","Preload value")}];const R=function(e){var t=e.setAttributes,r=e.attributes,n=r.autoplay,a=r.controls,o=r.loop,c=r.muted,l=r.playsInline,i=r.preload,s=f("Autoplay may cause usability issues for some users."),u=E.select({web:k((function(e){return e?s:null}),[]),native:s}),p=g((function(){var e=function(e){return function(r){var n,a,o;t((o=r,(a=e)in(n={})?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o,n))}};return{autoplay:e("autoplay"),loop:e("loop"),muted:e("muted"),controls:e("controls"),playsInline:e("playsInline")}}),[]),d=k((function(e){t({preload:e})}),[]);return React.createElement(React.Fragment,null,React.createElement(b,{label:f("Autoplay"),onChange:p.autoplay,checked:n,help:u}),React.createElement(b,{label:f("Loop"),onChange:p.loop,checked:o}),React.createElement(b,{label:f("Muted"),onChange:p.muted,checked:c}),React.createElement(b,{label:f("Playback controls"),onChange:p.controls,checked:a}),React.createElement(b,{label:f("Play inline"),onChange:p.playsInline,checked:l}),React.createElement(y,{label:f("Preload"),value:i,onChange:d,options:w,hideCancelButton:!0}))},C=(0,i.createElement)(u,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(s,{d:"M18.7 3H5.3C4 3 3 4 3 5.3v13.4C3 20 4 21 5.3 21h13.4c1.3 0 2.3-1 2.3-2.3V5.3C21 4 20 3 18.7 3zm.8 15.7c0 .4-.4.8-.8.8H5.3c-.4 0-.8-.4-.8-.8V5.3c0-.4.4-.8.8-.8h13.4c.4 0 .8.4.8.8v13.4zM10 15l5-3-5-3v6z"})),S=(0,i.createElement)(u,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(s,{d:"M18.5 15v3.5H13V6.7l4.5 4.1 1-1.1-6.2-5.8-5.8 5.8 1 1.1 4-4v11.7h-6V15H4v5h16v-5z"}));function O(e){return function(e){if(Array.isArray(e))return P(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||j(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],c=!0,l=!1;try{for(r=r.call(e);!(c=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{c||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||j(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){if(e){if("string"==typeof e)return P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(e,t):void 0}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){T(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var M=wp.i18n,N=M.__,I=M.sprintf,B=wp.components,U=B.NavigableMenu,L=B.MenuItem,F=B.FormFileUpload,D=B.MenuGroup,V=B.ToolbarButton,z=B.Dropdown,q=B.SVG,H=B.Rect,W=B.Path,$=B.Button,G=B.TextControl,K=B.SelectControl,Y=wp.blockEditor,J=Y.MediaUpload,Q=Y.MediaUploadCheck,X=Y.store,Z=wp.data.useSelect,ee=wp.element.useState,te=wp.url.getFilename,re=["text/vtt"],ne="subtitles",ae=[{label:N("Subtitles"),value:"subtitles"},{label:N("Captions"),value:"captions"},{label:N("Descriptions"),value:"descriptions"},{label:N("Chapters"),value:"chapters"},{label:N("Metadata"),value:"metadata"}],oe=React.createElement(q,{width:"18",height:"14",viewBox:"0 0 18 14",role:"img",fill:"none"},React.createElement(H,{x:"0.75",y:"0.75",width:"16.5",height:"12.5",rx:"1.25",stroke:"black",strokeWidth:"1.5",fill:"none"}),React.createElement(W,{d:"M3 7H15",stroke:"black",strokeWidth:"1.5"}),React.createElement(W,{d:"M3 10L15 10",stroke:"black",strokeWidth:"1.5"}));function ce(e){var t,r=e.tracks,n=e.onEditPress;return t=0===r.length?React.createElement("p",{className:"block-library-video-tracks-editor__tracks-informative-message"},N("Tracks can be subtitles, captions, chapters, or descriptions. They help make your content more accessible to a wider range of users.")):r.map((function(e,t){return React.createElement("div",{key:t,className:"block-library-video-tracks-editor__track-list-track"},React.createElement("span",null,e.label," "),React.createElement($,{variant:"tertiary",onClick:function(){return n(t)},"aria-label":I(N("Edit %s"),e.label)},N("Edit")))})),React.createElement(D,{label:N("Text tracks"),className:"block-library-video-tracks-editor__track-list"},t)}function le(e){var t=e.track,r=e.onChange,n=e.onClose,a=e.onRemove,o=t.src,c=void 0===o?"":o,l=t.label,i=void 0===l?"":l,s=t.srcLang,u=void 0===s?"":s,p=t.kind,d=void 0===p?ne:p,f=c.startsWith("blob:")?"":te(c)||"";return React.createElement(U,null,React.createElement("div",{className:"block-library-video-tracks-editor__single-track-editor"},React.createElement("span",{className:"block-library-video-tracks-editor__single-track-editor-edit-track-label"},N("Edit track")),React.createElement("span",null,N("File"),": ",React.createElement("b",null,f)),React.createElement("div",{className:"block-library-video-tracks-editor__single-track-editor-label-language"},React.createElement(G,{autoFocus:!0,onChange:function(e){return r(A(A({},t),{},{label:e}))},label:N("Label"),value:i,help:N("Title of track")}),React.createElement(G,{onChange:function(e){return r(A(A({},t),{},{srcLang:e}))},label:N("Source language"),value:u,help:N("Language tag (en, fr, etc.)")})),React.createElement(K,{className:"block-library-video-tracks-editor__single-track-editor-kind-select",options:ae,value:d,label:N("Kind"),onChange:function(e){r(A(A({},t),{},{kind:e}))}}),React.createElement("div",{className:"block-library-video-tracks-editor__single-track-editor-buttons-container"},React.createElement($,{variant:"secondary",onClick:function(){var e={},a=!1;""===i&&(e.label=N("English"),a=!0),""===u&&(e.srcLang="en",a=!0),void 0===t.kind&&(e.kind=ne,a=!0),a&&r(A(A({},t),e)),n()}},N("Close")),React.createElement($,{isDestructive:!0,variant:"link",onClick:a},N("Remove track")))))}function ie(e){var t=e.tracks,r=void 0===t?[]:t,n=e.onChange,a=Z((function(e){return e(X).getSettings().mediaUpload}),[]),o=_(ee(null),2),c=o[0],l=o[1];return a?React.createElement(z,{contentClassName:"block-library-video-tracks-editor",renderToggle:function(e){var t=e.isOpen,r=e.onToggle;return React.createElement(V,{label:N("Text tracks"),showTooltip:!0,"aria-expanded":t,"aria-haspopup":"true",onClick:r,icon:oe})},renderContent:function(e){return function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e),null!==c?React.createElement(le,{track:r[c],onChange:function(e){var t=O(r);t[c]=e,n(t)},onClose:function(){return l(null)},onRemove:function(){n(r.filter((function(e,t){return t!==c}))),l(null)}}):React.createElement(React.Fragment,null,React.createElement(U,null,React.createElement(ce,{tracks:r,onEditPress:l}),React.createElement(D,{className:"block-library-video-tracks-editor__add-tracks-container",label:N("Add tracks")},React.createElement(J,{onSelect:function(e){var t=e.url,a=r.length;n([].concat(O(r),[{src:t}])),l(a)},allowedTypes:re,render:function(e){var t=e.open;return React.createElement(L,{icon:C,onClick:t},N("Open Media Library"))}}),React.createElement(Q,null,React.createElement(F,{onChange:function(e){var t=e.target.files,o=r.length;a({allowedTypes:re,filesList:t,onFileChange:function(e){var t=_(e,1)[0].url,a=O(r);a[o]||(a[o]={}),a[o]=A(A({},r[o]),{},{src:t}),n(a),l(o)}})},accept:".vtt,text/vtt",render:function(e){var t=e.openFileDialog;return React.createElement(L,{icon:S,onClick:function(){t()}},N("Upload"))}})))))}}):null}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ue=wp.blob,pe=ue.getBlobByURL,de=ue.isBlobURL,fe=wp.components,me=fe.BaseControl,ve=fe.Button,be=fe.Disabled,ye=fe.PanelBody,he=fe.Spinner,ge=fe.withNotices,ke=wp.blockEditor,Ee=ke.BlockControls,we=ke.BlockIcon,Re=ke.InspectorControls,Ce=ke.MediaPlaceholder,Se=ke.MediaUpload,Oe=ke.MediaUploadCheck,_e=ke.MediaReplaceFlow,je=ke.RichText,Pe=ke.useBlockProps,xe=ke.store,Ae=wp.element,Te=Ae.useRef,Me=Ae.useEffect,Ne=wp.i18n,Ie=Ne.__,Be=Ne.sprintf,Ue=wp.compose.useInstanceId,Le=wp.data.useSelect,Fe=wp.blocks.createBlock,De=["video"],Ve=["image"];const ze=ge((function e(r){var n=r.isSelected,a=r.noticeUI,o=r.attributes,c=r.className,i=r.setAttributes,s=r.insertBlocksAfter,u=(r.onReplace,r.noticeOperations),d=Ue(e),f=Te(),m=Te(),v=o.id,b=o.caption,y=o.controls,h=o.poster,g=o.src,k=o.tracks,E=!v&&de(g),w=Le((function(e){return e(xe).getSettings().mediaUpload}),[]);function C(e){var t,r;e&&e.url?i({src:e.url,id:e.id,poster:(null===(t=e.image)||void 0===t?void 0:t.src)!==e.icon?null===(r=e.image)||void 0===r?void 0:r.src:void 0}):i({src:void 0,id:void 0,poster:void 0})}function S(e){e!==g&&i({src:e,id:void 0,poster:void 0})}function O(e){u.removeAllNotices(),u.createErrorNotice(e)}Me((function(){if(!v&&de(g)){var e=pe(g);e&&w({filesList:[e],onFileChange:function(e){return C((t=e,r=1,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],c=!0,l=!1;try{for(r=r.call(e);!(c=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{c||null==r.return||r.return()}finally{if(l)throw a}}return o}}(t,r)||function(e,t){if(e){if("string"==typeof e)return se(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?se(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0]);var t,r},onError:function(e){u.createErrorNotice(e)},allowedTypes:De})}}),[]),Me((function(){f.current&&f.current.load()}),[h]);var _=l()(c,{"is-transient":E}),j=Pe({className:_});if(!g)return React.createElement("div",j,React.createElement(Ce,{icon:React.createElement(we,{icon:p}),onSelect:C,onSelectURL:S,accept:"video/*",allowedTypes:De,value:o,notices:a,onError:O}));var P="video-block__poster-image-description-".concat(d);return React.createElement(React.Fragment,null,React.createElement(Ee,{group:"block"},React.createElement(ie,{tracks:k,onChange:function(e){i({tracks:e})}})),React.createElement(Ee,{group:"other"},React.createElement(_e,{mediaId:v,mediaURL:g,allowedTypes:De,accept:"video/*",onSelect:C,onSelectURL:S,onError:O})),React.createElement(Re,null,React.createElement(ye,{title:Ie("Settings")},React.createElement(R,{setAttributes:i,attributes:o}),React.createElement(Oe,null,React.createElement(me,{className:"editor-video-poster-control"},React.createElement(me.VisualLabel,null,Ie("Poster image")),React.createElement(Se,{title:Ie("Select poster image"),onSelect:function(e){i({poster:e.url})},allowedTypes:Ve,render:function(e){var t=e.open;return React.createElement(ve,{variant:"primary",onClick:t,ref:m,"aria-describedby":P},Ie(h?"Replace":"Select"))}}),React.createElement("p",{id:P,hidden:!0},h?Be(Ie("The current poster image url is %s"),h):Ie("There is no poster image currently selected")),!!h&&React.createElement(ve,{onClick:function(){i({poster:void 0}),m.current.focus()},variant:"tertiary"},Ie("Remove")))))),React.createElement("figure",j,React.createElement(be,{isDisabled:!n},React.createElement("video",{controls:y,poster:h,src:g,ref:f},React.createElement(t,{tracks:k}))),E&&React.createElement(he,null),(!je.isEmpty(b)||n)&&React.createElement(je,{tagName:"figcaption","aria-label":Ie("Video caption text"),placeholder:Ie("Add caption"),value:b,onChange:function(e){return i({caption:e})},inlineToolbar:!0,__unstableOnSplitAtEnd:function(){return s(Fe("core/paragraph"))}})))}));var qe=wp.blob.createBlobURL,He=wp.blocks.createBlock;const We={from:[{type:"files",isMatch:function(e){return 1===e.length&&0===e[0].type.indexOf("video/")},transform:function(e){var t=e[0];return He("straightvisions/sv-cloudflare-stream",{src:qe(t)})}},{type:"shortcode",tag:"video",attributes:{src:{type:"string",shortcode:function(e){var t=e.named,r=t.src,n=t.mp4,a=t.m4v,o=t.webm,c=t.ogv,l=t.flv;return r||n||a||o||c||l}},poster:{type:"string",shortcode:function(e){return e.named.poster}},loop:{type:"string",shortcode:function(e){return e.named.loop}},autoplay:{type:"string",shortcode:function(e){return e.named.autoplay}},preload:{type:"string",shortcode:function(e){return e.named.preload}}}}]};var $e=wp.blocks.registerBlockType,Ge=wp.i18n.__;console.log(wp),$e("straightvisions/sv-cloudflare-stream",{title:"SV Cloudflare Stream",example:{attributes:{src:"https://upload.wikimedia.org/wikipedia/commons/c/ca/Wood_thrush_in_Central_Park_switch_sides_%2816510%29.webm",caption:Ge("Wood thrush singing in Central Park, NYC.")}},transforms:We,edit:ze,save:function(e){var r=e.attributes,n=r.autoplay,c=r.caption,l=r.controls,i=r.loop,s=r.muted,u=r.poster,p=r.preload,d=r.src,f=r.playsInline,m=r.tracks;return React.createElement("figure",o.save(),d&&React.createElement("video",{autoPlay:n,controls:l,loop:i,muted:s,poster:u,preload:"metadata"!==p?p:void 0,src:d,playsInline:f},React.createElement(t,{tracks:m})),!a.isEmpty(c)&&React.createElement(a.Content,{tagName:"figcaption",value:c}))}})})()})();